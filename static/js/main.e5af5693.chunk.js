(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(42)},,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),l=a.n(r),o=a(3),i=a(4),s=a(6),u=a(5),m=a(7),b=(a(20),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",Object.assign({},this.props,{x:"0px",y:"0px",viewBox:"0 0 477.175 477.175"}),c.a.createElement("g",null,c.a.createElement("path",{d:"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5 c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z "})))}}]),t}(c.a.Component)),h=a(8),p=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMonth,a=e.date,n=a.getFullYear();return c.a.createElement("div",{className:"topBar"},c.a.createElement("div",{className:"topBar__wrapper"},c.a.createElement("div",{onClick:function(){return t(-1)}},c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(b,{className:"icon flip"}))),c.a.createElement("div",{className:"date"},a.toLocaleString("en-us",{month:"short"})," ",n),c.a.createElement("div",{onClick:function(){return t(1)}},c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(b,{className:"icon"})))))}}]),t}(c.a.Component),v=Object(h.c)(p);a(22);function d(e){e.color;return c.a.createElement("svg",Object.assign({x:"0px",y:"0px"},e,{viewBox:"0 0 481.677 481.678"},e),c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("path",{d:"M44.812,438.499c72.248,66.792,155.854,33.166,155.854,33.166S178.86,334.45,304.26,337.176    c0,0-7.273-24.534,19.998-58.168l-4.096-4.092c0,0-33.166,34.083-65.434,28.181c-21.78-3.987-16.417-23.492-10.782-36.447    l129.61-131.652c12.828-11.071,29.37-13.395,38.992-5.176c-0.673-13.187,5.414-28.427,17.524-40.541    c12.712-12.706,28.842-18.751,42.467-17.34l9.137-9.135l-1.378-27.966l-2.886-2.879c-1.026,3.078-2.545,6.233-4.652,9.279    c-7.39,10.654-18.507,15.733-24.83,11.343c-3.903-2.711-5.054-8.383-3.643-14.829c-6.448,1.406-12.119,0.26-14.836-3.643    c-4.384-6.328,0.697-17.444,11.349-24.832c3.042-2.112,6.2-3.625,9.273-4.652l-1.683-1.691l-28.253-1.386l-10.547,10.549    c0.204,12.868-5.843,27.475-17.549,39.174c-11.71,11.696-26.305,17.751-39.177,17.545l-0.705,0.705    c7.942,9.989,5.121,26.904-6.633,39.653L220.113,236.549c-6.344,3.228-13.337,5.642-18.542,4.292    c-12.269-3.178-40.892-4.544,34.534-107.229l-4.089-4.089c0,0-46.805,36.802-75.426,37.257c0,0,11.356,125.862-147.219,117.229    C9.378,284.009-27.432,371.712,44.812,438.499z"}))))}var g=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",Object.assign({viewBox:"0 0 485 485",xmlns:"http://www.w3.org/2000/svg"},this.props),c.a.createElement("path",{d:"m208.464844 400 53.222656-117.585938h23.515625v117.585938h33.414063v-315h-59.171876c-37.664062 0-82.539062 39.609375-82.539062 103.964844 0 64.367187 56.3125 90.355468 56.3125 90.355468l-66.835938 120.679688zm20.636718-160.847656c-8.222656-10.332032-15.382812-27.523438-15.382812-56.058594 0-62.507812 35.941406-70.582031 40.898438-71.394531.355468-.058594.703124-.078125 1.058593-.078125h28.59375v142.945312h-22.246093c-12.71875 0-25-5.464844-32.921876-15.414062zm0 0"}),c.a.createElement("path",{d:"m0 0v485h485v-485zm455 455h-425v-425h425zm0 0"}))}}]),t}(c.a.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512.035 512.035"},this.props),c.a.createElement("g",{transform:"translate(1 1)"},c.a.createElement("g",null,c.a.createElement("path",{d:"M473.702,235.076L368.699,174.33c-0.563-0.281-1.149-0.487-1.747-0.635L265.431,115.32L40.672-0.097 c-0.85-0.34-1.7-0.577-2.538-0.717c-0.913-0.205-1.861-0.24-2.826-0.084c-1.209,0.139-2.35,0.514-3.38,1.121 c-2.845,1.211-4.273,4.346-4.273,7.489v494.644c0,3.471,1.736,6.075,4.339,7.81c0.868,0.868,2.603,0.868,4.339,0.868 s2.603,0,4.339-0.868l224.759-124.963l98.788-57.281c0.048,0.001,0.092,0.006,0.141,0.006c1.736,0,2.603-0.868,4.339-2.603l0,0 c0.757-0.253,1.43-0.664,2.019-1.168l102.985-59.578c5.207-2.603,8.678-8.678,8.678-14.753S478.909,238.547,473.702,235.076z M45.011,27.672l238.522,222.91L45.011,481.154V27.672z M350.475,183.876L320.2,214.639l-23.569,23.871l-104.529-97.156 L88.484,44.644l168.269,85.429L350.475,183.876z M256.753,370.452l-166.75,91.97L248.075,309.62l48.557-46.736l53.359,54.043 L256.753,370.452z M365.817,307.633l-56.21-56.931l56.531-57.256l98.887,57.25L365.817,307.633z"}))))}}]),t}(c.a.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sortByRating,a=e.toggleFilter,n=e.isYandexActive,r=e.isGoogleActive,l=e.genreFilter;return c.a.createElement("footer",{className:"bottomBar"},c.a.createElement("div",{className:"bottomBar__wrapper"},c.a.createElement("div",null,c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(d,{className:"icon ".concat(l?"filter--active":""),onClick:function(){return a("isGenreSelect")}}))),c.a.createElement("div",null,c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(g,{className:"icon ".concat(n?"filter--active":""),onClick:function(){return a("isYandexActive")}}))),c.a.createElement("div",null,c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(f,{className:"icon ".concat(r?"filter--active":""),onClick:function(){return a("isGoogleActive")}}))),c.a.createElement("div",{className:"sortButton",onClick:function(){return a("sortByRating")}},c.a.createElement("button",{className:"iconButton",type:"button"},t?"321":"A-Z"))))}}]),t}(c.a.Component),y=Object(h.c)(E),O=(a(24),a(26),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",Object.assign({},this.props,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"}),c.a.createElement("g",null,c.a.createElement("path",{fill:"#1D1D1B",d:"M28.941,31.786L0.613,60.114c-0.787,0.787-0.787,2.062,0,2.849c0.393,0.394,0.909,0.59,1.424,0.59   c0.516,0,1.031-0.196,1.424-0.59l28.541-28.541l28.541,28.541c0.394,0.394,0.909,0.59,1.424,0.59c0.515,0,1.031-0.196,1.424-0.59   c0.787-0.787,0.787-2.062,0-2.849L35.064,31.786L63.41,3.438c0.787-0.787,0.787-2.062,0-2.849c-0.787-0.786-2.062-0.786-2.848,0   L32.003,29.15L3.441,0.59c-0.787-0.786-2.061-0.786-2.848,0c-0.787,0.787-0.787,2.062,0,2.849L28.941,31.786z"})))}}]),t}(c.a.Component)),j=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",Object.assign({viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},this.props),c.a.createElement("path",{d:"m256 512c140.960938 0 256-115.050781 256-256 0-140.960938-115.050781-256-256-256-140.960938 0-256 115.050781-256 256 0 140.960938 115.050781 256 256 256zm0-482c124.617188 0 226 101.382812 226 226s-101.382812 226-226 226-226-101.382812-226-226 101.382812-226 226-226zm0 0"}),c.a.createElement("path",{d:"m196 361c28.046875 0 54.414062-10.921875 74.246094-30.753906l-21.214844-21.214844c-14.164062 14.167969-33 21.96875-53.03125 21.96875-41.355469 0-75-33.644531-75-75s33.644531-75 75-75c45.558594 0 60.523438 33.144531 79.757812 87.730469 7.554688 21.445312 15.367188 43.621093 27.179688 60.570312 14.65625 21.035157 34.191406 31.699219 58.0625 31.699219 33.085938 0 60-26.914062 60-60 0-31.613281-24.574219-57.59375-55.625-59.84375v-.15625h-4.375c-16.542969 0-30-13.457031-30-30s13.457031-30 30-30 30 13.457031 30 30h30c0-33.085938-26.914062-60-60-60s-60 26.914062-60 60c0 32.648438 26.210938 59.289062 58.691406 59.984375l1.308594.015625c16.542969 0 30 13.457031 30 30s-13.457031 30-30 30c-29.976562 0-41.167969-27.449219-56.949219-72.238281-16.914062-48.011719-37.964843-107.761719-108.050781-107.761719-57.898438 0-105 47.101562-105 105s47.101562 105 105 105zm0 0"}))}}]),t}(c.a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("svg",Object.assign({x:"0px",y:"0px",viewBox:"0 0 512 512"},this.props),c.a.createElement("g",{transform:"translate(1 1)"},c.a.createElement("g",null,c.a.createElement("path",{d:"M416.097,39.77c-7.585-8.533-18.963-12.326-33.185-12.326c-13.274,0-32.237,7.585-42.667,44.563l-22.756,84.385 c-7.585-8.533-18.015-15.17-30.341-15.17c-0.145,0-0.286,0.014-0.431,0.016c-0.173-0.002-0.344-0.016-0.517-0.016 c-13.802,0-25.224,7.73-32.607,18.526c-0.129-0.156-0.262-0.309-0.392-0.464c-7.344-9.797-18.099-16.962-30.49-17.936 c-0.111-0.009-0.221-0.023-0.333-0.031c-0.843-0.059-1.692-0.095-2.549-0.095c-0.676,0-1.352,0.025-2.028,0.063 c-0.29,0.016-0.577,0.042-0.865,0.065c-0.352,0.029-0.703,0.06-1.055,0.099c-0.389,0.043-0.776,0.091-1.16,0.146 c-0.19,0.027-0.379,0.059-0.568,0.09c-8.088,1.286-15.178,5.261-20.883,10.842L179.06,54.941 c-0.948-9.481-2.844-18.015-5.689-24.652C170.527,22.704,161.993-1,136.394-1c-10.43,0-20.859,4.741-29.393,14.222 c-9.482,9.481-14.222,22.756-13.274,35.081l18.015,238.933c-24.652,12.326-27.496,30.341-27.496,71.111v0.948 c0,39.822,27.496,70.163,37.926,79.644v34.133c0,20.859,17.067,37.926,37.926,37.926h170.667 c20.859,0,37.926-17.067,37.926-37.926v-34.133c28.444-38.874,28.444-43.615,28.444-117.57v-18.015L425.579,75.8 C426.527,60.63,423.682,48.304,416.097,39.77z M311.801,188.63v104.296c0,13.274-9.482,28.444-22.756,28.444 s-24.652-15.17-24.652-28.444V188.63c0-8.646,4.024-18.092,10.497-23.631c3.09-2.381,6.602-3.865,10.362-3.865 c11.378,0,20.859,11.378,23.704,21.807c0.754,1.507,1.661,2.86,2.773,3.949C311.772,187.472,311.801,188.053,311.801,188.63z M227.709,284.01c1.817-2.866,3.307-5.585,4.447-8.151c9.482-19.911,0-48.356-18.963-59.733c-2.91-1.663-8.735-4.418-16.119-4.353 V188.63c0-6.529,2.527-13.513,6.558-18.929c3.88-4.484,8.829-7.62,14.302-7.62c11.378,0,20.859,11.378,23.704,21.807 c0.765,1.53,1.689,2.901,2.825,3.998c0.008,0.248,0.02,0.496,0.02,0.742v104.296c0,13.274-9.481,28.444-22.756,28.444 c-5.689,0-11.378-2.844-16.119-8.533C215.741,301.981,223.102,292.235,227.709,284.01z M121.223,25.548 c4.741-4.741,10.43-7.585,15.17-7.585c6.637,0,13.274,1.896,19.911,18.963c1.896,5.689,3.793,12.326,4.741,22.756l17.716,121.213 c-0.421,2.577-0.649,5.168-0.649,7.735v29.924c-4.663,3.446-9.467,8.454-14.222,15.587c-6.11,8.401-16.531,23.569-33.731,38.566 L112.69,47.356C111.742,39.77,115.534,32.185,121.223,25.548z M406.616,73.904l-28.444,227.556v0.948v18.963 c0,72.059,0,72.059-26.548,108.089c-0.948,1.896-1.896,3.793-1.896,5.689v37.926c0,10.43-8.533,18.963-18.963,18.963H160.097 c-10.43,0-18.963-8.533-18.963-18.963v-37.926c0-2.844-0.948-5.689-2.844-7.585c-0.948,0-34.133-28.444-35.081-67.318 c0-45.511,2.844-50.252,22.756-58.785c1.977-0.989,3.427-2.499,4.373-4.25c26.244-18.461,40.54-39.871,48.723-51.691 c2.769-4.154,6.214-8.527,10.112-11.271c1.114-0.098,2.193-0.409,3.162-1.055c1.143-0.571,4.012-1.818,7.559-1.277 c0.946,0.282,1.903,0.697,2.87,1.277c10.43,5.689,16.119,24.652,11.378,35.081c-4.741,10.43-18.963,29.393-60.681,64.474 c-3.793,2.844-4.741,9.482-0.948,13.274c1.896,2.844,4.741,3.793,7.585,3.793c1.896,0,4.741-0.948,6.637-2.844 c9.005-7.788,17.191-15.135,24.523-22.048c8.382,9.669,19.419,15.411,30.47,15.411c13.699,0,25.342-7.618,32.827-18.288 c7.908,10.67,19.844,18.288,33.543,18.288c24.652,0,42.667-24.652,41.719-47.407V188.63c0-1.596-0.103-3.201-0.285-4.807 c0.11-0.288,0.21-0.581,0.285-0.882L358.26,78.644c2.844-11.378,11.378-31.289,24.652-31.289c9.482,0,15.17,1.896,18.963,5.689 C405.668,56.837,407.564,64.422,406.616,73.904z"}))))}}]),t}(c.a.Component),k=(c.a.Component,function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lastfm_url,a=e.listeners,n=(e.playcount,e.google_link),r=e.yandex_link;return c.a.createElement("div",{className:"buttonPanel"},c.a.createElement("div",{className:"buttonPanel__wrapper buttonPanel__playcount"},c.a.createElement("div",null,c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(w,{className:"icon"}))),c.a.createElement("div",{className:"playcount__number"},Number(a).toLocaleString())),r?c.a.createElement("div",{className:"buttonPanel__wrapper"},c.a.createElement("a",{href:"https://music.yandex.ru/album/".concat(r),target:"_blank"},c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(g,{className:"icon"})))):c.a.createElement("div",{className:"buttonPanel__wrapper"}),n?c.a.createElement("div",{className:"buttonPanel__wrapper"},c.a.createElement("a",{href:"https://play.google.com/music/m/".concat(n),target:"_blank"},c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(f,{className:"icon"})))):c.a.createElement("div",{className:"buttonPanel__wrapper"}),c.a.createElement("div",{className:"buttonPanel__wrapper"},c.a.createElement("a",{href:t,target:"_blank"},c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(j,{className:"icon"})))))}}]),t}(c.a.Component)),N=Object(h.c)(k),B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.album,a=t.album_id,n=t.title,r=t.author,l=t.cover_url,o=t.genre,i=t.lastfm_url,s=t.listeners,u=t.playcount,m=t.google_link,b=t.yandex_link;return c.a.createElement("div",{className:"album"},c.a.createElement("div",{className:"album__content"},c.a.createElement("div",{className:"album__cover cover"},c.a.createElement("img",{src:"https://www.spirit-of-metal.com".concat(l),alt:"cover",onClick:function(){return e.props.togglePreview("https://www.spirit-of-metal.com".concat(l))}})),c.a.createElement("div",{className:"album__description"},c.a.createElement("div",{className:"author"},r),c.a.createElement("div",null,c.a.createElement("div",{className:"title"},n),c.a.createElement("div",{className:"genre"},o))),c.a.createElement("div",{className:"album__delete",onClick:function(){return e.props.addToHateList(a)}},c.a.createElement("button",{className:"iconButton",type:"button"},c.a.createElement(O,{className:"smallIcon"})))),i&&c.a.createElement(N,{lastfm_url:i,listeners:s,playcount:u,google_link:m,yandex_link:b}))}}]),t}(c.a.Component),M=Object(h.c)(B);a(28);function L(e){var t=e.size||50;return c.a.createElement("div",{className:"loader"},c.a.createElement("svg",{x:"0px",y:"0px",width:t+"px",height:t+"px",viewBox:"0 0 482.032 482.032"},c.a.createElement("g",null,c.a.createElement("path",{d:"M386.163,48.499L217.807,216.857c-7.646,1.901-15.05,1.533-20.277-3.687c-12.381-12.381,5.53-39.459,14.835-51.738 c2.679-3.528,1.751-4.749-2.27-2.877l-36.834,17.142c-4.015,1.872-7.902,6.927-8.846,11.257 c-2.914,13.387-9.812,40.158-20.3,50.646c-11.8,11.798-82.429,25.519-106.325,29.892c-4.358,0.781-7.938,4.98-8.299,9.405 c-2.96,36.347-21.045,78.954-28.722,95.669c-1.855,4.023-0.254,5.582,3.767,3.719c52.676-24.389,89.847-12.383,98.364-3.859 c7.402,7.406-14.757,78.178-22.421,101.781c-1.365,4.207,0.651,5.902,4.554,3.803l72.122-38.932 c3.901-2.101,7.801-7.326,8.782-11.65c4.711-20.73,18.372-76.357,32.366-90.355c12.106-12.106,32.801-15.608,44.144-16.639 c4.412-0.389,9.78-3.542,11.94-7.405l15.028-26.718c2.176-3.863,1.134-4.729-2.585-2.312c-11.27,7.334-34.737,19.188-50.468,3.455 c-6.854-6.854-5.67-18.459-0.974-31.05L405.423,66.358c3.418-2.843,11.95-9.004,19.119-6.083c0,0,27.139-32.226,45.456-31.881 c0,0,6.268-14.074,12.034-25.271L387.565,24.32C387.565,24.32,395.488,36.873,386.163,48.499z M155.207,330.984l-9.043,9.037 c-3.136,3.134-8.213,3.134-11.353,0l-24.115-24.109c-3.132-3.146-3.132-8.219,0-11.364l9.043-9.037 c3.132-3.138,8.209-3.138,11.349,0l24.119,24.108C158.339,322.765,158.339,327.839,155.207,330.984z M191.599,283.235 c3.136,3.131,3.136,8.204,0,11.346l-9.041,9.049c-3.132,3.126-8.211,3.126-11.351,0l-24.119-24.121 c-3.132-3.126-3.132-8.207,0-11.345l9.047-9.045c3.132-3.138,8.211-3.138,11.351,0l4.027,4.023l18.556,18.562L191.599,283.235z",fill:"#b2102f"}))))}a(30);var _=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"noAlbums"},c.a.createElement(w,{className:"icon"})," Dude, no metal releases for this month")}}]),t}(c.a.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.props.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.props.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.albums,a=e.isLoading,n=e.addToHateList,r=e.togglePreview;return a||0!==t.length?c.a.createElement("main",{className:"content"},a&&c.a.createElement(L,null),!a&&t.map(function(e){return c.a.createElement(M,{key:e.album_id,album:e,addToHateList:n,togglePreview:r})})):c.a.createElement("div",{className:"content"},c.a.createElement(_,null))}}]),t}(c.a.Component),S=Object(h.c)(D);a(32);var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getFullYear(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getMonth()+1;return fetch("https://ws-dqs.wedeploy.io/?year=".concat(e,"&month=").concat(t)).then(function(e){return e.json()}).then(function(e){return e.body})},C=(a(34),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.togglePreview;return""===t?null:c.a.createElement("div",{className:"coverPreview coverPreview__overlay",onClick:function(){return a("")}},c.a.createElement("div",{className:"coverPreview__content"},c.a.createElement("img",{src:t,alt:"album cover"})))}}]),t}(c.a.Component)),G=Object(h.c)(C),P=(a(36),["Alternativ Death","Alternative Metal","Ambiant Black","Atmospheric Black","Atmospheric Death","Atmospheric Doom","Atmospheric Gothic","Atmospheric Metal","Atmospheric Sludge","Avantgardiste Black","Bay Area Thrash","Black Dark","Black Death","Black Electro","Black Heavy","Black Metal","Brutal Black","Brutal Death","Brutal Death Black","Crossover","Crust","Cyber Metal","Dark Ambient","Dark Metal","Death Black","Death Dark","Death Doom","Death Gothic","Death Grind","Death Metal","Death Thrash","Death'n'Roll","Deathcore","Deathcore Thrash","Doom Black","Doom Metal","Drone","Electro Black","Electro Metal","Emo Metal","Epic Black","Experimental Metal","Folk black","Folk Death","Folk Metal","Funeral Doom","Fusion","Glam Rock","Gothic Black","Gothic Dark","Gothic Death","Gothic Doom","Gothic Electro","Gothic Metal","Grind Death","Grind Electro","Grindcore","Grunge","Guitar Hero","Hard FM","Hard Rock","Hardcore","Heavy Death","Heavy Metal","Heavy Rock","Indus Gothic","Industrial Black","Industrial Death","Industrial Electro","Industrial Metal","Jazz Metal","Melodic Black","Melodic Black Death","Melodic Death","Melodic Death Black","Melodic Doom","Melodic Heavy","Melodic Metal","Melodic Power","Metal","Metalcore","Modern Metal","Neo Classical","Noise Hardcore","Nu Metal","NWOBHM","Pagan Black","Pagan Folk","Porno Gore Grind","Post Hardcore","Power Metal","Progressive Black","Progressive Death","Progressive Heavy","Progressive Metal","Progressive Power","Screamo","Sludge Doom","Sludge Metal","Southern Rock","Speed Heavy","Speed Metal","Stoner","Stoner Doom","Symphonic Black","Symphonic Dark","Symphonic Death","Symphonic Death Black","Symphonic Heavy","Symphonic Metal","Symphonic power","Technical Death","Technical Thrash","Thrash Black","Thrash Death","Thrash Heavy","Thrash Metal","Thrash Neo","Thrash Speed","Unblack","Viking Black","Visual Kei"]),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).resetGenre=function(){a.props.onClose("isGenreSelect"),a.props.onSelect("")},a.selectGenre=function(e){a.props.onClose("isGenreSelect"),a.props.onSelect(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isVisible!==e.isVisible&&(document.body.style.overflow=this.props.isVisible?"hidden":"auto")}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"render",value:function(){var e=this,t=this.props,a=t.isVisible;t.onSelect;return a?c.a.createElement("div",{className:"genreSelect"},c.a.createElement("div",{className:"topBar"},c.a.createElement("div",{className:"topBar__wrapper"},c.a.createElement("div",{className:"title"},"Select genre"),c.a.createElement("div",{onClick:this.resetGenre,className:"resetButton"},"RESET"))),c.a.createElement("div",{className:"genreList"},c.a.createElement("div",{className:"genreList__wrapper"},P.map(function(t){return c.a.createElement("div",{key:t,className:"genre",onClick:function(){return e.selectGenre(t)}},t)})))):null}}]),t}(c.a.Component),z=Object(h.c)(A),H=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.date,a=e.isLoading,n=e.coverPreview,r=e.sortByRating,l=e.isYandexActive,o=e.isGoogleActive,i=e.albumList,s=e.togglePreview,u=e.changeMonth,m=e.addToHateList,b=e.toggleFilter,h=e.handleScroll,p=e.isGenreSelect,d=e.selectGenre,g=e.genreFilter;return c.a.createElement("div",{className:"app"},c.a.createElement(v,{changeMonth:u,date:t}),c.a.createElement(S,{albums:i,isLoading:a,addToHateList:m,togglePreview:s,handleScroll:h}),c.a.createElement(y,{isYandexActive:l,isGoogleActive:o,sortByRating:r,toggleFilter:b,genreFilter:g}),c.a.createElement(G,{src:n,togglePreview:s}),c.a.createElement(z,{isVisible:p,onClose:b,onSelect:d}))}}]),t}(c.a.Component),F=Object(h.b)("store")(Object(h.c)(H)),T=a(14),R=a(11),V=a.n(R),I=a(2),Y=I.b.model("Album",{album_id:I.b.number,author:I.b.string,title:I.b.string,cover_url:I.b.string,genre:I.b.string,lastfm_url:I.b.maybeNull(I.b.string),listeners:I.b.maybeNull(I.b.number),playcount:I.b.maybeNull(I.b.number),google_link:I.b.maybeNull(I.b.string),yandex_link:I.b.maybeNull(I.b.string)}),J=I.b.model("Store",{albums:I.b.array(Y),date:I.b.optional(I.b.Date,new Date),isLoading:I.b.optional(I.b.boolean,!1),hateList:I.b.optional(I.b.array(I.b.number),[]),coverPreview:I.b.optional(I.b.string,""),sortByRating:I.b.optional(I.b.boolean,!0),isYandexActive:I.b.optional(I.b.boolean,!1),isGoogleActive:I.b.optional(I.b.boolean,!1),genreFilter:I.b.optional(I.b.string,""),viewLimit:I.b.optional(I.b.number,30),maxScroll:I.b.optional(I.b.number,0),isGenreSelect:I.b.optional(I.b.boolean,!1)}).actions(function(e){var t=e;return{loadAlbums:Object(I.a)(V.a.mark(function e(){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.resetScroll(),a=t.date,t.isLoading=!0,e.prev=3,e.next=6,x(a.getFullYear(),a.getMonth()+1);case 6:t.albums=e.sent,t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.isLoading=!1;case 13:case"end":return e.stop()}},e,this,[[3,10]])})),loadHateList:function(){var e=localStorage.getItem("hateList")?JSON.parse(localStorage.getItem("hateList")):[];t.hateList=e},addToHateList:function(e){localStorage.setItem("hateList",JSON.stringify([].concat(Object(T.a)(t.hateList),[e]))),t.hateList.push(e)},toggleFilter:function(e){t.resetScroll(),t[e]=!t[e]},togglePreview:function(e){t.coverPreview=e||""},afterCreate:function(){t.loadHateList(),t.loadAlbums()},changeMonth:function(e){var a=t.date,n=new Date(a.setMonth(a.getMonth()+e));t.date=n,t.loadAlbums()},showMore:function(){t.viewLimit+=10},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop;e-t.maxScroll>150&&(t.viewLimit+=5,t.maxScroll=e)},resetScroll:function(){window.scrollTo(0,0),t.viewLimit=30,t.maxScroll=0},selectGenre:function(e){t.genreFilter=e}}}).views(function(e){return{get albumList(){return e.albums.filter(function(t){var a=!e.hateList.includes(t.album_id),n=!e.isYandexActive||t.yandex_link,c=!e.isGoogleActive||t.google_link,r=!e.genreFilter||t.genre===e.genreFilter;return a&&n&&c&&r}).sort(function(t,a){return e.sortByRating?a.listeners-t.listeners:t.author<a.author?-1:t.author>a.author?1:0}).slice(0,e.viewLimit)}}}).create({});window.store=J;var U=document.getElementById("root");l.a.render(c.a.createElement(h.a,{store:J},c.a.createElement(F,null)),U)}],[[15,2,1]]]);
//# sourceMappingURL=main.e5af5693.chunk.js.map